<!DOCTYPE html>
<html>

<head>
    {{ block "head" . }}
    {{ partial "head.html" . }}
    {{ end }}

    {{ block "head_resources" . }}
    <!-- Use this block to link to further resources like .js or .css files. -->
    {{ end }}
    <title>
        {{ block "title" . }}
        {{ .Title }}
        {{ end }}
    </title>
</head>

<body>
    {{ block "main" . }}<div class="wrap">
        {{ if .Params.showTopMenu }}
            {{ block "top-menu" . }}
                <div class="section top-menu">
                    {{ partial "top_menu.html" (dict "Page" . "show_back_menu_item" false) }}
                </div>
            {{ end }}
        {{ end }}

        {{ block "section_title" . }}<div class="section" id="title">{{ .Title }}</div>{{ end }}

        <!-- ignore empty links with + -->
        {{ $headers := findRE "<h[1-6].*?>(.|\n])+?</h[1-6]>" .Content }}
        <!-- at least one header to link to -->
        {{ $has_headers := ge (len $headers) 1 }}
        <!-- a post can explicitly disable Table of Contents with toc: false -->
        {{ $show_toc := (eq $.Params.toc true) }}
        {{ if and $has_headers $show_toc }}
            {{ partial "table_of_contents.html" (dict "Page" . "Headers" $headers) }}
        {{ end }}

        {{ block "section_content" . }}<div class="section" id="content">{{ .Content }}</div>{{ end }}

        {{ block "bottom-menu" . }}
        {{ if .Site.Params.mainMenu }}<div class="section bottom-menu">{{ partial "bottom_menu.html" (dict "Page" . "show_back_menu_item" false) }}</div>{{ end }}
        {{ end }}

        {{ block "footer" . }}<div class="section footer">{{ partial "footer.html" . }}</div>{{ end }}
    </div>{{ end }}
</body>

</html>
